(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),l=(n(61),n(44)),c=n(45),s=n(54),u=n(46),f=n(55),h=n(53),d=n(49),m=n.n(d),p=n(21),g=n.n(p),v=n(50),S=n.n(v),E=n(52),x=n.n(E),w=n(20),T=n.n(w),y=n(48),I=n.n(y),b=(n(64),function(e){if(e.status>=200&&e.status<300)return e.text();var t=new Error(e.statusText);throw t.response=e,t}),k={SET:"red",ORGANIZATION:"green",DATE:"blue",NUMBER:"yellow",LOCATION:"gray",ORDINAL:"coral",MISC:"fuchsia",PERSON:"gold",DURATION:"blueviolet",MONEY:"blanchedalmond",PERCENT:"aquamarine",TIME:"aqua"},D={"Performance change":["increased","declined","reduced","decreased","grow"],"Strategic change":["strategy","target","aiming","transfer","reorganization","restructure"],"Board member change":["appointed","new","vote","chairman","remuneration"],"Financial key indicators":["cost","debt","EBITDA","sales","revenue","stock","tax","dividend","profit","cash flow"]},F={"Performance change":"gray","Strategic change":"gray","Board member change":"gray","Financial key indicators":"gray"},O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={fileID:"",fileSentences:[],fileTextFetchStatus:"",text:""},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=function t(n){fetch("http://35.178.211.71:8080/analyze_fetch?uuid="+n,{method:"GET"}).then(b).then(function(a){if("In the progress"===a)e.setState({fileID:e.state.fileID,fileSentences:e.state.fileSentences,fileTextFetchStatus:a,text:e.state.text}),window.setTimeout(function(){return t(n)},1e4);else{var r=JSON.parse(a).map(function(e){return e.sentences}).flat(),i=new Set;r.forEach(function(e){e.tokens.forEach(function(e){i.add(e.ner)})}),console.log(i),e.setState({fileID:e.state.fileID,fileSentences:r,fileTextFetchStatus:"completed",text:e.state.text})}}).catch(function(e){console.log("request failed",e)})};return r.a.createElement("div",{className:"App"},r.a.createElement(I.a,{defaultActiveKey:"file_upload",id:"uncontrolled-tab-example"},r.a.createElement(T.a,{eventKey:"file_upload",title:"File Upload"},r.a.createElement(h.a,{multiple:!1,styles:{width:"100%",height:"20%",border:"1px solid black"},onDrop:function(n){var a=new FormData;a.append("file",n[0]);var r=n[0].size;fetch("http://35.178.211.71:8080",{method:"POST",body:a}).then(b).then(function(n){var a=n;e.setState({fileID:a,fileSentences:e.state.fileSentences,fileTextFetchStatus:e.state.fileTextFetchStatus}),window.setTimeout(function(){return t(a)},r/100)}).catch(function(e){console.log("request failed",e)})}},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",t(),r.a.createElement("input",n()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))})),r.a.createElement(T.a,{eventKey:"text_upload",title:"Text Upload"},r.a.createElement(g.a,null,r.a.createElement(g.a.Control,{as:"textarea",rows:"20",value:this.state.text,onChange:function(t){e.setState({fileID:e.state.fileID,fileSentences:e.state.fileSentences,fileTextFetchStatus:e.state.fileTextFetchStatus,text:t.target.value})}}),r.a.createElement(m.a,{variant:"primary",onClick:function(){var n=new URL("http://35.178.211.71:8080/upload_text"),a={text:e.state.text};n.search=new URLSearchParams(a),fetch(n).then(b).then(function(n){var a=n;e.setState({fileID:a,fileSentences:e.state.fileSentences,fileTextFetchStatus:e.state.fileTextFetchStatus}),window.setTimeout(function(){return t(a)},1e3)}).catch(function(e){console.log("request failed",e)})}},"Submit")))),r.a.createElement("br",null),"Fetching File ID: ",this.state.fileID,r.a.createElement("div",null),"fileTextFetchStatus: ",this.state.fileTextFetchStatus,r.a.createElement("div",null),"Text:",r.a.createElement("div",null,this.state.fileSentences.map(function(e,t){var n=function(e){if(0===e.openie.length)return null;var t=e.tokens.map(function(e){return e.originalText});for(var n in D)for(var a in D[n])if(t.indexOf(a)>-1)return n;return null}(e);return r.a.createElement(S.a,{trigger:n?"hover":"null",placement:"top",key:t,overlay:r.a.createElement(x.a,{id:"popover-positioned-".concat(t)},n||"")},r.a.createElement("span",{style:{backgroundColor:n?F(n):"transparent"}},e.tokens.map(function(e,n){return r.a.createElement("span",{key:t+"_"+n,style:{backgroundColor:(a=e.ner,k[a]||"transparent")}},e.originalText+" ");var a})))})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,n){e.exports=n(116)},61:function(e,t,n){},64:function(e,t,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.ab416b7b.chunk.js.map